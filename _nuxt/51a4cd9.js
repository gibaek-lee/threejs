(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{444:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(70);var o=n(125),r=n(443),c=n(449),l=n(448);function d(e){e.context;var t=e.isOrbitControl,n=void 0!==t&&t,d=e.isPhysicallyCorrectLight,h=void 0!==d&&d,v=Object(o.e)(null),f=Object(o.e)(null),w=Object(o.e)(null),m=Object(o.e)(null),y=Object(o.e)(null),canvas=Object(o.e)(void 0),O=Object(o.e)(null),j=Object(o.e)(null),C=Object(o.e)(null),S=Object(o.a)((function(){return{width:window.innerWidth,height:window.innerHeight}})),x=Object(o.a)((function(){return!!f.value&&!!O.value&&!!m.value}));Object(o.g)(canvas,(function(){L(),k()})),Object(o.d)((function(){window.addEventListener("resize",(function(){S.value.width=window.innerWidth,S.value.height=window.innerHeight,m.value&&(m.value.aspect=S.value.width/S.value.height,m.value.updateProjectionMatrix()),O.value&&(O.value.setSize(S.value.width,S.value.height),O.value.setPixelRatio(Math.min(window.devicePixelRatio,2)))}))}));var L=function(){f.value=new r.xb,w.value=new r.i(1),w.value.position.set(2.01,.01,2.01),m.value=new r.kb(75,S.value.width/S.value.height,.1,200),m.value.position.set(4,20,60),y.value=new r.Hb,O.value=new r.Nb({canvas:canvas.value,antialias:!0}),O.value.setSize(S.value.width,S.value.height),O.value.setPixelRatio(Math.min(window.devicePixelRatio,2)),O.value.setClearColor("#262837"),O.value.physicallyCorrectLights=h,n&&(j.value=new l.a(m.value,canvas.value),j.value.enableDamping=!0),C.value=new r.r},k=function(){v.value=new c.a({closed:!1,width:350}),v.value.parentSelector="div.dg.ac"};return{setCanvas:function(e){var t=e.vm,n=e.selectorCanvasId,o=void 0===n?"":n,r="canvas.webgl";o&&(r+=".".concat(o)),canvas.value=t.$el.querySelector(r)||void 0},registerRenderTickCanvas:function(e){var t=0,n=window.setInterval((function(){if(x.value)return e(),void window.clearInterval(n);t+=1,console.log("waiting UseWebgl init...",t),t>60&&(window.clearInterval(n),console.error("failed to init UseWebgl"))}),100)},canvas:canvas,gui:v,scene:f,renderer:O,axesHelper:w,cameraOrbit:m,orbitControl:j,windowSizes:S,clock:C,textureLoader:y}}},453:function(e,t,n){"use strict";n(8),n(10),n(15),n(16);var o=n(3),r=(n(57),n(75),n(27),n(11),n(36),n(63),n(269),n(19),n(39),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(45),n(9),n(268),n(0)),c=n(88),l=n(1);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=["sm","md","lg","xl"],f=["start","end","center"];function w(e,t){return v.reduce((function(n,o){return n[e+Object(l.r)(o)]=t(),n}),{})}var m=function(e){return[].concat(f,["baseline","stretch"]).includes(e)},y=w("align",(function(){return{type:String,default:null,validator:m}})),O=function(e){return[].concat(f,["space-between","space-around"]).includes(e)},j=w("justify",(function(){return{type:String,default:null,validator:O}})),C=function(e){return[].concat(f,["space-between","space-around","stretch"]).includes(e)},S=w("alignContent",(function(){return{type:String,default:null,validator:C}})),x={align:Object.keys(y),justify:Object.keys(j),alignContent:Object.keys(S)},L={align:"align",justify:"justify",alignContent:"align-content"};function k(e,t,n){var o=L[e];if(null!=n){if(t){var r=t.replace(e,"");o+="-".concat(r)}return(o+="-".concat(n)).toLowerCase()}}var M=new Map;t.a=r.default.extend({name:"v-row",functional:!0,props:h(h(h({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:m}},y),{},{justify:{type:String,default:null,validator:O}},j),{},{alignContent:{type:String,default:null,validator:C}},S),render:function(e,t){var n=t.props,data=t.data,r=t.children,l="";for(var d in n)l+=String(n[d]);var h=M.get(l);return h||function(){var e,t;for(t in h=[],x)x[t].forEach((function(e){var o=n[e],r=k(t,e,o);r&&h.push(r)}));h.push((e={"no-gutters":n.noGutters,"row--dense":n.dense},Object(o.a)(e,"align-".concat(n.align),n.align),Object(o.a)(e,"justify-".concat(n.justify),n.justify),Object(o.a)(e,"align-content-".concat(n.alignContent),n.alignContent),e)),M.set(l,h)}(),e(n.tag,Object(c.a)(data,{staticClass:"row",class:h}),r)}})},454:function(e,t,n){"use strict";n(8),n(10),n(15),n(16);var o=n(3),r=(n(30),n(11),n(36),n(63),n(269),n(19),n(39),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(45),n(57),n(9),n(71),n(268),n(0)),c=n(88),l=n(1);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=["sm","md","lg","xl"],f=v.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{}),w=v.reduce((function(e,t){return e["offset"+Object(l.r)(t)]={type:[String,Number],default:null},e}),{}),m=v.reduce((function(e,t){return e["order"+Object(l.r)(t)]={type:[String,Number],default:null},e}),{}),y={col:Object.keys(f),offset:Object.keys(w),order:Object.keys(m)};function O(e,t,n){var o=e;if(null!=n&&!1!==n){if(t){var r=t.replace(e,"");o+="-".concat(r)}return"col"!==e||""!==n&&!0!==n?(o+="-".concat(n)).toLowerCase():o.toLowerCase()}}var j=new Map;t.a=r.default.extend({name:"v-col",functional:!0,props:h(h(h(h({cols:{type:[Boolean,String,Number],default:!1}},f),{},{offset:{type:[String,Number],default:null}},w),{},{order:{type:[String,Number],default:null}},m),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var n=t.props,data=t.data,r=t.children,l=(t.parent,"");for(var d in n)l+=String(n[d]);var h=j.get(l);return h||function(){var e,t;for(t in h=[],y)y[t].forEach((function(e){var o=n[e],r=O(t,e,o);r&&h.push(r)}));var r=h.some((function(e){return e.startsWith("col-")}));h.push((e={col:!r||!n.cols},Object(o.a)(e,"col-".concat(n.cols),n.cols),Object(o.a)(e,"offset-".concat(n.offset),n.offset),Object(o.a)(e,"order-".concat(n.order),n.order),Object(o.a)(e,"align-self-".concat(n.alignSelf),n.alignSelf),e)),j.set(l,h)}(),e(n.tag,Object(c.a)(data,{class:h}),r)}})},468:function(e,t,n){var content=n(495);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(21).default)("6adb1324",content,!0,{sourceMap:!1})},494:function(e,t,n){"use strict";n(468)},495:function(e,t,n){var o=n(20)(!1);o.push([e.i,".haunted-house-container[data-v-4189b8dd]{height:100%}.haunted-house-container .col-controls[data-v-4189b8dd]{flex-grow:unset}.haunted-house-container .col-canvas[data-v-4189b8dd]{flex-grow:inherit;position:relative}",""]),e.exports=o},544:function(e,t,n){"use strict";n.r(t);var o=n(125),r=n(78),c=(n(9),n(31),n(27),n(443)),l=n(33),d=n(49),h=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"createWalls",value:function(e,t){var n=e.width,o=e.height,r=e.depth;return new c.X(new c.l(n,o,r),new c.ab({color:t}))}},{key:"createRoof",value:function(e,t){var n=e.radius,o=e.height,r=e.radialSegment;return new c.X(new c.t(n,o,r),new c.ab({color:t}))}},{key:"createDoor",value:function(e,t){var n=e.width,o=e.height;return new c.X(new c.lb(n,o),new c.ab({color:t}))}},{key:"createBush",value:function(e,t){var n=e.radius,o=e.widthSeg,r=e.heightSeg;return new c.X(new c.Bb(n,o,r),new c.ab({color:t}))}}]),e}(),v=function(){function e(){Object(l.a)(this,e),this.graveGeometry=new c.l(.6,.8,.2),this.graveMaterial=new c.ab({color:"#b2b6b1"})}return Object(d.a)(e,[{key:"createGrave",value:function(e,t){var n=e.width,o=e.height,r=e.depth;return new c.X(new c.l(n,o,r),new c.ab({color:t}))}},{key:"getRandomPosition",value:function(){var e=Math.random()*Math.PI*2,t=3+6*Math.random(),n=Math.cos(e)*t,o=Math.sin(e)*t;return new c.Lb(n,.3,o)}}]),e}();var f,w=(f={width:4,height:2.5,depth:4},{addOnScene:function(e,t,n){var o=new h,l=new c.C,d=function(e){var t=e.createWalls(f,"#ac8e82");return t.position.y=f.height/2,t}(o),v=function(e){var t={radius:f.width/2*1.75,height:f.width/4,radialSegment:4},n=e.createRoof(t,"#b35f45");return n.position.y=f.height+t.height/2,n.rotation.y=.25*Math.PI,n}(o),w=function(e){var t={width:f.width/2,height:f.width/2},n=e.createDoor(t,"#aa7b7b");return n.position.y=t.height/2,n.position.z=f.depth/2+.01,n}(o),m=function(e){var t=[];return[{scale:new c.Lb(.5,.5,.5),position:new c.Lb(.8,.2,2.2)},{scale:new c.Lb(.25,.25,.25),position:new c.Lb(1.4,.1,2.1)},{scale:new c.Lb(.4,.4,.4),position:new c.Lb(-.8,.1,2.2)},{scale:new c.Lb(.15,.15,.15),position:new c.Lb(-1,.05,2.6)}].forEach((function(data){var n=e.createBush({radius:1,widthSeg:16,heightSeg:16},"#89c854");n.scale.set(data.scale.x,data.scale.y,data.scale.z),n.position.set(data.position.x,data.position.y,data.position.z),t.push(n)})),t}(o),y=function(e,t){var n=new c.mb("#ff7d46",1,7),o=e.geometry.parameters.depth,r=t.geometry.parameters.height;return n.position.set(0,r+.2,o+.7),n}(d,w);return l.add.apply(l,[d,v,w].concat(Object(r.a)(m),[y])),function(e,t){var n=t.doorLight,o=t.index;e.add(n,"intensity").min(0).max(1).step(.001).name("doorLight-intensity-".concat(o))}(t,{doorLight:y,index:n}),e.add(l),{houseGroup:l}}});var m={addOnScene:function(e){var t=new v,n=new c.C,o=function(e){for(var t=[],i=0;i<50;i++){var n=e.createGrave({width:.6,height:.8,depth:.2},"#b2b6b1"),o=e.getRandomPosition();n.position.set(o.x,o.y,o.z),t.push(n)}return t}(t);return n.add.apply(n,Object(r.a)(o)),e.add(n),{gravesGroup:n}}};var y={addOnScene:function(e,t){var n=new c.b("#b9d5ff",.12),o=function(){var e=new c.v("#b9d5ff",.12);return e.position.set(4,5,-2),e}(),r=new c.C;return r.add(n,o),function(e,t){var n=t.ambientLight,o=t.moonLight;e.add(n,"intensity").min(0).max(1).step(.001).name("ambientLight-intensity"),e.add(o,"intensity").min(0).max(1).step(.001).name("moonLight-intensity"),e.add(o.position,"x").min(-5).max(5).step(.001).name("moonLight-x"),e.add(o.position,"y").min(-5).max(5).step(.001).name("moonLight-y"),e.add(o.position,"z").min(-5).max(5).step(.001).name("moonLight-z")}(t,{ambientLight:n,moonLight:o}),e.add(r),{lightGroup:r}}};var O,j,C=(O=new c.Lb(0,3,6),j=function(e,t,n){var o=e.key;!function(e,t,n){var o=Math.PI/45,r=new c.Lb(e.position.x,t.position.y,e.position.z),l=r.distanceTo(t.position);function d(){var n=e.rotation.y;t.position.set(Math.sin(n)*l+r.x,r.y,Math.cos(n)*l+r.z)}"q"===n?(e.rotation.y+=o,d()):"w"===n&&(e.rotation.y-=o,d())}(t,n,o),function(e,t,n){var o=.4;switch(n){case"ArrowUp":r(-.4*Math.sin(e.rotation.y),-.4*Math.cos(e.rotation.y));break;case"ArrowDown":r(.4*Math.sin(e.rotation.y),.4*Math.cos(e.rotation.y));break;case"ArrowLeft":r(-.4*Math.sin(.5*Math.PI+e.rotation.y),-.4*Math.cos(.5*Math.PI+e.rotation.y));break;case"ArrowRight":r(o*Math.sin(.5*Math.PI+e.rotation.y),o*Math.cos(.5*Math.PI+e.rotation.y))}function r(n,o){e.position.set(e.position.x+n,e.position.y,e.position.z+o),t.position.set(t.position.x+n,t.position.y,t.position.z+o)}}(t,n,o)},{addOnScene:function(e){var t=new c.mb("red",5,2);return e.add(t),{me:t,relCameraPositionToGhost:O,ghostKeyMoveCallback:j}}}),S=n(444);var x="orbit",L="keypress",k=Object(o.b)({setup:function(e,t){var n=Object(S.a)({context:t,isOrbitControl:!0});return{setCanvas:n.setCanvas,registerRenderTickCanvas:n.registerRenderTickCanvas,gui:n.gui,scene:n.scene,renderer:n.renderer,axesHelper:n.axesHelper,cameraOrbit:n.cameraOrbit,orbitControl:n.orbitControl,windowSizes:n.windowSizes,clock:n.clock}},data:function(){return{selectorCanvasWrap:"haunted-house",cameraControlMode:"orbit",cameraGhost:null,me:null,idAnimationFrame:null}},head:function(){return{title:"Haunted House",meta:[{hid:"description",name:"description",content:"Haunted House developed via three.js which is a library for webgl api"}]}},mounted:function(){var e=this;this.setCanvas({vm:this}),this.registerRenderTickCanvas((function(){e.initUtils(),e.setStyleDatGui(),e.tick()}))},beforeDestroy:function(){window.cancelAnimationFrame(this.idAnimationFrame),document.querySelector(this.gui.parentSelector).appendChild(this.gui.domElement),this.gui.destroy()},methods:{initUtils:function(){var e,t;this.scene.add(this.axesHelper,this.cameraOrbit),y.addOnScene(this.scene,this.gui),e=this.scene,(t=new c.X(new c.lb(80,80),new c.ab({color:"#a9c388"}))).rotation.x=.5*-Math.PI,t.position.y=0,e.add(t);var n=function(e,t){var n=[new c.Lb(30,0,-30),new c.Lb(10,0,-30),new c.Lb(-10,0,-30),new c.Lb(-30,0,-30),new c.Lb(30,0,-10),new c.Lb(10,0,-10),new c.Lb(-10,0,-10),new c.Lb(-30,0,-10),new c.Lb(30,0,10),new c.Lb(10,0,10),new c.Lb(-10,0,10),new c.Lb(-30,0,10),new c.Lb(30,0,30),new c.Lb(10,0,30),new c.Lb(-10,0,30),new c.Lb(-30,0,30)];return n.forEach((function(n,o){if(2*Math.random()>1){var r=w.addOnScene(e,t,o).houseGroup,c=m.addOnScene(e).gravesGroup;r.position.set(n.x,n.y,n.z),c.position.set(n.x,n.y,n.z)}})),{tensorHouseGroup:n}}(this.scene,this.gui).tensorHouseGroup,o=function(e,t,n){var o=C.addOnScene(e),r=o.me,l=o.relCameraPositionToGhost,d=o.ghostKeyMoveCallback;window.addEventListener("keydown",(function(e){d(e,r,h)})),r.position.set(t[12].x,t[12].y+1,t[12].z);var h=new c.kb(75,n.width/n.height,.1,200);return h.position.set(r.position.x+l.x,r.position.y+l.y,r.position.z+l.z),h.lookAt(r.position),e.add(h),{me:r,cameraGhost:h}}(this.scene,n,this.windowSizes),r=o.me,l=o.cameraGhost;this.me=r,this.cameraGhost=l},tick:function(){this.clock.getElapsedTime();switch(this.cameraControlMode){case x:this.orbitControl.update(),this.renderer.render(this.scene,this.cameraOrbit);break;case L:this.cameraGhost.lookAt(this.me.position),this.renderer.render(this.scene,this.cameraGhost)}this.idAnimationFrame=window.requestAnimationFrame(this.tick)},setStyleDatGui:function(){this.gui.domElement.style.cssText+="position: absolute; right: 0px; top: 0px;",this.$el.querySelector(".".concat(this.selectorCanvasWrap)).appendChild(this.gui.domElement)},onChangeCameraControlMode:function(){switch(this.cameraControlMode){case x:this.cameraControlMode=L;break;case L:this.cameraControlMode=x}}}}),M=(n(494),n(46)),P=n(58),z=n.n(P),G=n(266),D=n(454),E=n(453),component=Object(M.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{class:e.selectorCanvasWrap+"-container"},[n("v-col",{staticClass:"col-controls"},[n("v-btn",{staticClass:"change-update-mode",attrs:{small:"",color:"primary",dark:""},on:{click:e.onChangeCameraControlMode}},[e._v("\n      "+e._s(e.cameraControlMode)+"\n    ")])],1),e._v(" "),n("v-col",{staticClass:"col-canvas",class:e.selectorCanvasWrap},[n("canvas",{staticClass:"webgl"})])],1)}),[],!1,null,"4189b8dd",null);t.default=component.exports;z()(component,{VBtn:G.a,VCol:D.a,VRow:E.a})}}]);